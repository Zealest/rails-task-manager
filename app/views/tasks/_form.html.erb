<%= form_with model: @task, url: task.persisted? ? task_path(@task) : tasks_path do |f| %>
  <div>
    <%= f.label :title %>
    <%= f.text_field :title %>
  </div>
  <div>
    <%= f.label :details %>
    <%= f.text_area :details %>
  </div>
  <% if task.persisted? %>
    <div>
      <%= f.label :completed %>
      <%= f.check_box :completed %>
    </div>
  <% end %>
  <%= f.submit %>
<% end %>
